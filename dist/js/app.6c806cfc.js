(function(t){function e(e){for(var i,a,r=e[0],c=e[1],l=e[2],h=0,d=[];h<r.length;h++)a=r[h],o[a]&&d.push(o[a][0]),o[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(d.length)d.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(i=!1)}i&&(s.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},o={app:0},s=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/pattern-generator/dist/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0809":function(t,e,n){},"15db":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);var i={};n.r(i),n.d(i,"increment",function(){return D}),n.d(i,"updateColumnLength",function(){return G}),n.d(i,"updateRowLength",function(){return W});var o={};n.r(o),n.d(o,"increment",function(){return q}),n.d(o,"updateColumnLength",function(){return J}),n.d(o,"updateRowLength",function(){return N});n("cadf"),n("551c"),n("f751"),n("097d");var s=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},r=[],c=n("2877"),l={},u=Object(c["a"])(l,a,r,!1,null,null,null),h=u.exports,d=n("8c4f"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("div",{staticClass:"inner"},[n("p",{staticClass:"title"},[t._v("Board")]),n("div",{ref:"board",staticClass:"board"},[n("div",{staticClass:"board-inner"},[n("canvas",{ref:"canvas",on:{click:t.onDraw}})])]),n("TheSetting",{ref:"setting",attrs:{maxLength:t.maxLength},on:{setupBoard:t.setupBoard}}),n("TheResult",{ref:"result"})],1)])},p=[],m=(n("20d6"),n("cebc")),g=n("2ef0"),v=n.n(g),L=n("2f62"),w=n("c345"),b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"result"},[n("div",{staticClass:"result-inner"},[n("div",{staticClass:"result-sample"},[n("p",{staticClass:"title"},[t._v("Preview")]),n("div",{staticClass:"result-sample-content",style:{"background-image":"url("+t.result+")"}})]),n("div",{staticClass:"result-code"},[n("p",{staticClass:"title"},[t._v("Base64")]),n("div",{staticClass:"result-code-content"},[n("textarea",{domProps:{value:t.result}})])])]),n("div",{staticClass:"result-download"},[n("button",{on:{click:t.onDownload}},[t._v("download")])])])},x=[],C={computed:Object(m["a"])({},Object(L["c"])(["columnLength","rowLength"])),data:function(){return{result:"data:image/png;base64,"}},methods:{onDownload:function(){this.loadImage(this.result).then(function(t){var e=document.createElement("a");e.download="image.png",e.href=t.src,e.click()})},setResult:function(t){var e=document.createElement("canvas"),n=e.getContext("2d");e.width=this.columnLength,e.height=this.rowLength;for(var i=0;i<this.columnLength;i++)for(var o=0;o<this.rowLength;o++)v.a.has(t[i][o],"color")&&(n.fillStyle=t[i][o].color,n.fillRect(i,o,1,1));this.result=e.toDataURL("image/png")},loadImage:function(t){return new Promise(function(e){var n=new Image;n.onload=function(){return e(n)},n.src=t})}}},_=C,y=(n("6c9a"),Object(c["a"])(_,b,x,!1,null,"ab0f446c",null)),O=y.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"setting"},[n("div",{staticClass:"setting-size"},[n("p",{staticClass:"title"},[t._v("Width")]),n("div",{staticClass:"setting-size-item"},[n("label",[n("input",{attrs:{name:"column",type:"range",max:t.maxLength,min:"1"},domProps:{value:t.columnLength},on:{input:t.onInput}})]),n("p",{staticClass:"setting-size-value"},[t._v(t._s(t.columnLength)+"px")])]),n("p",{staticClass:"title"},[t._v("Height")]),n("div",{staticClass:"setting-size-item"},[n("label",[n("input",{attrs:{name:"row",type:"range",max:t.maxLength,min:"1"},domProps:{value:t.rowLength},on:{input:t.onInput}})]),n("p",{staticClass:"setting-size-value"},[t._v(t._s(t.rowLength)+"px")])]),n("p",{staticClass:"title"},[t._v("Paint Mode")]),n("ul",{staticClass:"setting-mode"},[n("li",[n("label",{attrs:{for:"setting-mode-paint"}},[n("p",{staticClass:"name"},[t._v("Paint")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.paintMode,expression:"paintMode"}],attrs:{id:"setting-mode-paint",name:"paintMode",type:"radio",value:"paint"},domProps:{checked:t._q(t.paintMode,"paint")},on:{change:function(e){t.paintMode="paint"}}})])]),n("li",[n("label",{attrs:{for:"setting-mode-eraser"}},[n("p",{staticClass:"name"},[t._v("Eraser")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.paintMode,expression:"paintMode"}],attrs:{id:"setting-mode-eraser",name:"paintMode",type:"radio",value:"eraser"},domProps:{checked:t._q(t.paintMode,"eraser")},on:{change:function(e){t.paintMode="eraser"}}})])])])]),n("div",{staticClass:"setting-colors"},[n("p",{staticClass:"title"},[t._v("Color")]),n("TheChromePicker",{model:{value:t.colors,callback:function(e){t.colors=e},expression:"colors"}})],1)])},P=[],M=(n("7f7f"),{components:{TheChromePicker:w["Chrome"]},props:["maxLength"],data:function(){return{colors:{hex:"#000"},paintMode:"paint"}},computed:Object(m["a"])({},Object(L["c"])(["columnLength","rowLength"])),methods:Object(m["a"])({},Object(L["b"])(["updateColumnLength","updateRowLength"]),{onInput:function(t){var e=t.target.name,n=t.target.value;"column"===e&&this.updateColumnLength(n),"row"===e&&this.updateRowLength(n),this.$emit("setupBoard")},getColor:function(){return this.colors.hex},isPaint:function(){return"paint"===this.paintMode}})}),S=M,$=(n("788c"),Object(c["a"])(S,j,P,!1,null,"52df9f61",null)),k=$.exports,R={name:"home",components:{TheResult:O,TheSetting:k,"chrome-picker":w["Chrome"]},data:function(){return{context:null,glidList:[]}},computed:Object(m["a"])({},Object(L["c"])(["columnLength","rowLength"]),{frameSize:function(){return 780},maxLength:function(){return 30}}),mounted:function(){this.context=this.$refs.canvas.getContext("2d"),this.setupBoard()},methods:{setupBoard:function(){this.setCanvasSize(),this.drawGridLine(),this.setGlidList()},onDraw:function(t){var e=t.offsetX,n=t.offsetY,i=this.$refs.setting.getColor();this.context.fillStyle=i;for(var o=0;o<this.glidList.length;o++){var s=this.glidList[o],a=v.a.findIndex(s,function(t){return t.sx<e&&t.sy<n&&e<t.ex&&n<t.ey});if(-1!==a){var r=s[a];this.$refs.setting.isPaint()?(this.context.fillRect(r.sx,r.sy,r.w,r.h),s[a].color=i):(this.context.clearRect(r.sx,r.sy,r.w,r.h),delete s[a].color)}}this.$refs.result.setResult(this.glidList)},setCanvasSize:function(){var t=this.$refs.board.clientWidth/this.maxLength,e=this.columnLength>=this.rowLength,n=e?this.frameSize/this.columnLength:this.frameSize/this.rowLength;n>=t&&(n=t),this.$refs.canvas.width=n*this.columnLength,this.$refs.canvas.height=n*this.rowLength},setGlidList:function(){this.glidList=[];for(var t=this.$refs.canvas.width/this.columnLength,e=0;e<this.columnLength;e++){this.glidList[e]=[];for(var n=0;n<this.rowLength;n++)this.glidList[e][n]={w:t,h:t,sx:e*t,sy:n*t,ex:e*t+t,ey:n*t+t}}},drawGridLine:function(){var t=this.$refs.canvas.width,e=this.$refs.canvas.height,n=t/this.columnLength,i=e/this.rowLength;this.context.lineWidth=1,this.context.strokeStyle="#ccc",this.context.beginPath();for(var o=1;o<this.columnLength;o++){var s=n*o;this.context.moveTo(s,0),this.context.lineTo(s,e)}for(var a=1;a<this.rowLength;a++){var r=i*a;this.context.moveTo(0,r),this.context.lineTo(t,r)}this.context.stroke()}}},T=R,z=(n("a0c3"),Object(c["a"])(T,f,p,!1,null,"be211c5e",null)),B=z.exports;s["a"].use(d["a"]);var E=new d["a"]({routes:[{path:"/",name:"home",component:B}]}),I={count:0,columnLength:10,rowLength:10},D=function(t,e){t.count+=e},G=function(t,e){t.columnLength=e},W=function(t,e){t.rowLength=e},q=function(t){var e=t.commit,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e("increment",n)},J=function(t){var e=t.commit,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;e("updateColumnLength",n)},N=function(t){var e=t.commit,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;e("updateRowLength",n)},H=n("94d5");s["a"].use(L["a"]);var U=new L["a"].Store({state:I,mutations:i,actions:o,getters:H});s["a"].config.productionTip=!1,new s["a"]({router:E,store:U,render:function(t){return t(h)}}).$mount("#app")},"6c9a":function(t,e,n){"use strict";var i=n("7686"),o=n.n(i);o.a},7686:function(t,e,n){},"788c":function(t,e,n){"use strict";var i=n("0809"),o=n.n(i);o.a},"94d5":function(t,e){},a0c3:function(t,e,n){"use strict";var i=n("15db"),o=n.n(i);o.a}});
//# sourceMappingURL=app.6c806cfc.js.map